<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thoughtWorks.dao.JoinClassDao">

    <insert id="joinClassInStudent" parameterType="com.thoughtWorks.entity.ClassesTemporary">
        insert into o_classes_temporary (class_id, phone_number)
        values (#{classesTemporary.classId},#{classesTemporary.phoneNumber});
    </insert>

    <select id="getClassList" parameterType="string" resultType="map">
        select oc.name,ot.name teaName from o_classes oc
        LEFT JOIN (select * from o_teacher) ot ON oc.teacher_id = (SELECT ot.id + 0)
        LEFT JOIN (select * from o_student_classes) osc ON 
        WHERE student_id = #{stuNo};
    </select>

    <select id="checkClassCode" parameterType="string" resultType="com.thoughtWorks.entity.Classes">
        select * from o_classes WHERE code = #{classCode};
    </select>
</mapper>